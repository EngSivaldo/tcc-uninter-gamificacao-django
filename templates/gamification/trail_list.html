{% extends 'base.html' %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-32 animate-fadeIn" 
     x-data="{ selectedCategory: 'TODOS' }"
     style="scroll-behavior: smooth;">
    
    <section class="relative pt-10 min-h-[60vh] flex flex-col justify-center">
        <div class="relative z-10 space-y-8">
            <header class="space-y-4">
                <div class="flex items-center gap-3">
                    <span class="h-[2px] w-12 bg-neon shadow-[0_0_10px_rgba(0,245,160,0.5)]"></span>
                    <h2 class="text-neon font-black text-[10px] uppercase tracking-[0.5em] italic">
                        Elite Engineering Academy
                    </h2>
                </div>
                <h1 class="text-6xl md:text-8xl font-black text-white tracking-tighter leading-[0.85] uppercase italic">
                    Expanda seu <br> 
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-accent to-neon">Conhecimento.</span>
                </h1>
            </header>
            <p class="text-slate-400 text-lg md:text-xl max-w-2xl leading-relaxed font-medium">
                Domine as tecnologias mais requisitadas do mercado através de uma jornada gamificada projetada por <span class="text-white">engenheiros para engenheiros.</span>
            </p>
            
            <div class="flex flex-wrap gap-4">
                <a href="#pricing" 
                   class="bg-neon text-dark-950 px-10 py-5 rounded-2xl font-black text-lg uppercase italic tracking-tighter shadow-2xl hover:scale-105 transition-all flex items-center gap-3">
                    Iniciar Jornada <i class="fas fa-rocket text-sm"></i>
                </a>
                <a href="#catalog" 
                   class="bg-dark-800 text-white border border-white/10 px-10 py-5 rounded-2xl font-black text-lg uppercase italic tracking-tighter hover:bg-dark-700 transition-all">
                    Ver Catálogo
                </a>
            </div>
        </div>
        <div class="absolute -right-20 -top-20 w-[500px] h-[500px] bg-accent/5 blur-[120px] rounded-full pointer-events-none -z-10"></div>
    </section>

    <section id="catalog" class="space-y-12 scroll-mt-24">
        <nav class="flex flex-col md:flex-row items-center justify-between gap-6 bg-dark-800/40 p-2 rounded-[2rem] border border-white/5 backdrop-blur-md shadow-2xl">
            <div class="flex flex-wrap items-center gap-2 p-1">
                <span class="text-[10px] font-black text-slate-500 uppercase tracking-widest px-4 italic">Filtrar Pipeline:</span>
                
                <template x-for="category in ['TODOS', 'ENGENHARIA', 'DESENVOLVIMENTO', 'DADOS']">
                    <button @click="selectedCategory = category"
                            :class="selectedCategory === category ? 'bg-white text-dark-950 shadow-[0_0_20px_rgba(255,255,255,0.3)]' : 'text-slate-400 hover:text-white hover:bg-white/5'"
                            class="px-8 py-3 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all duration-300">
                        <span x-text="category"></span>
                    </button>
                </template>
            </div>
        </nav>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
            {% for trail in trails %}
            <div class="trail-card group relative bg-dark-800/40 rounded-[2.5rem] border border-white/5 overflow-hidden transition-all duration-500 flex flex-col h-full hover:border-accent/30 hover:-translate-y-2 shadow-xl"
                 x-show="selectedCategory === 'TODOS' || '{{ trail.category|upper }}' === selectedCategory"
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="opacity-0 scale-95">
                
                <a href="{% url 'gamification:trail_detail' trail.id %}" class="absolute inset-0 z-20" aria-label="Acessar {{ trail.title }}"></a>

                <div class="aspect-[16/9] relative overflow-hidden bg-dark-900">
                    <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=800&q=80" 
                         class="w-full h-full object-cover grayscale-[0.5] group-hover:grayscale-0 group-hover:scale-110 transition-all duration-700 opacity-60 group-hover:opacity-100">
                    <div class="absolute inset-0 bg-gradient-to-t from-dark-900 via-transparent to-transparent"></div>
                    <div class="absolute top-6 right-6 bg-dark-950/90 backdrop-blur-md px-4 py-2 rounded-xl border border-white/10 shadow-2xl z-30">
                        <span class="text-neon font-black text-[10px] tracking-widest uppercase">+{{ trail.total_xp|default:1000 }} XP</span>
                    </div>
                </div>

                <div class="p-8 flex flex-col flex-grow relative">
                    <h3 class="text-2xl font-black text-white mb-4 group-hover:text-accent transition-colors leading-tight tracking-tighter uppercase italic">
                        {{ trail.title }}
                    </h3>
                    <p class="text-slate-500 text-sm leading-relaxed mb-10 line-clamp-3 font-medium italic">
                        {{ trail.description }}
                    </p>

                    <div class="mt-auto pt-8 border-t border-white/5 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <i class="fas fa-microchip text-slate-700"></i>
                            <span class="text-[10px] text-slate-500 font-black uppercase tracking-widest">Stack Otimizada</span>
                        </div>
                        <div class="w-12 h-12 bg-white text-dark-950 rounded-2xl flex items-center justify-center transition-all group-hover:bg-neon group-hover:shadow-[0_0_20px_rgba(0,245,160,0.5)]">
                            <i class="fas fa-chevron-right transition-transform group-hover:translate-x-1"></i>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>

    <section id="testimonials" class="space-y-16 py-12 border-t border-white/5 scroll-mt-24">
        <div class="text-center space-y-4">
            <h2 class="text-4xl font-black text-white uppercase italic tracking-tighter">O que assinantes estão alcançando</h2>
            <p class="text-slate-500 font-bold text-[10px] uppercase tracking-[0.4em]">Histórias Reais de Sucesso</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-dark-800/40 p-10 rounded-[3rem] border border-white/5 space-y-6 hover:border-accent/20 transition-all shadow-2xl">
                <div class="flex items-center gap-4">
                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-accent to-dark-700 flex items-center justify-center shadow-lg">
                        <i class="fas fa-user-tie text-dark-900"></i>
                    </div>
                    <div>
                        <p class="text-white font-black text-sm uppercase italic">Abigail P.</p>
                        <p class="text-[9px] text-slate-500 font-bold uppercase tracking-widest">Mãe e Engenheira</p>
                    </div>
                </div>
                <p class="text-slate-400 text-sm leading-[1.8] italic">“Tenho um emprego em tempo integral e três filhos. Eu precisava da flexibilidade oferecida pelo <span class="text-accent font-bold">Plus</span> para atingir meus objetivos.”</p>
            </div>
            <div class="bg-dark-800/40 p-10 rounded-[3rem] border border-white/5 space-y-6 hover:border-neon/20 transition-all shadow-2xl">
                <div class="flex items-center gap-4">
                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-neon to-dark-700 flex items-center justify-center shadow-lg">
                        <i class="fas fa-terminal text-dark-900 text-xs"></i>
                    </div>
                    <div>
                        <p class="text-white font-black text-sm uppercase italic">Shi Jie F.</p>
                        <p class="text-[9px] text-slate-500 font-bold uppercase tracking-widest">Tech Lead</p>
                    </div>
                </div>
                <p class="text-slate-400 text-sm leading-[1.8] italic">“O Gamifica Plus me mantém motivado. Posso acessar quase tudo com a assinatura e o valor percebido aumenta a cada deploy.”</p>
            </div>
            <div class="bg-dark-800/40 p-10 rounded-[3rem] border border-white/5 space-y-6 hover:border-violet/20 transition-all shadow-2xl">
                <div class="flex items-center gap-4">
                    <div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-violet to-dark-700 flex items-center justify-center shadow-lg">
                        <i class="fas fa-code-branch text-dark-900"></i>
                    </div>
                    <div>
                        <p class="text-white font-black text-sm uppercase italic">Inés K.</p>
                        <p class="text-[9px] text-slate-500 font-bold uppercase tracking-widest">Eng. de Software</p>
                    </div>
                </div>
                <p class="text-slate-400 text-sm leading-[1.8] italic">“Aprecio a liberdade. Posso experimentar qualquer curso e pivotar minha carreira sem custos adicionais. Isso motiva!”</p>
            </div>
        </div>
    </section>

    <section id="pricing" class="max-w-5xl mx-auto scroll-mt-24">
        <div class="bg-white text-dark-950 rounded-[4rem] p-12 lg:p-20 shadow-[0_50px_100px_rgba(0,0,0,0.5)] relative overflow-hidden group">
            <div class="absolute -right-20 -bottom-20 w-80 h-80 bg-neon/10 blur-[100px] rounded-full"></div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center relative z-10">
                <div class="space-y-8">
                    <span class="bg-dark-950 text-white text-[9px] font-black px-4 py-2 rounded-full uppercase tracking-[0.4em]">Inscrições Abertas</span>
                    <h2 class="text-5xl md:text-6xl font-black tracking-tighter uppercase leading-[0.9] italic">
                        Plano <br> <span class="text-blue-600">Gamifica</span> <br> PLUS.
                    </h2>
                    <p class="text-slate-600 font-bold text-sm leading-relaxed max-w-xs italic uppercase">
                        Acesso ilimitado a 10.000+ cursos e certificados oficiais da Uninter.
                    </p>
                </div>

                <div class="flex flex-col items-center lg:items-end text-center lg:text-right space-y-6">
                    <div class="space-y-1">
                        <p class="text-slate-400 text-xs font-black line-through uppercase">US$ 239.00</p>
                        <p class="text-7xl font-black tracking-tighter text-dark-950">US$ 119.50</p>
                        <p class="text-[10px] font-black text-blue-600 uppercase tracking-widest font-mono">BILLING_CYCLE: ANNUAL</p>
                    </div>
                    
                    <a href="{% url 'accounts:register' %}" 
                    class="w-full bg-dark-950 text-white py-6 rounded-[2rem] font-black text-xl uppercase italic tracking-tighter shadow-2xl hover:scale-105 transition-all hover:bg-blue-700 flex items-center justify-center gap-3">
                     Assinar Agora <i class="fas fa-shield-alt text-sm"></i>
                 </a>
                    
                    <p class="text-[9px] font-bold text-slate-400 uppercase tracking-widest leading-none">Oferta válida até 02/02/2026</p>
                </div>
            </div>
        </div>
    </section>
    

</div>

<style>
    /* Suavização de Rolagem Global */
    html {
        scroll-behavior: smooth;
    }
    
    .scroll-mt-24 {
        scroll-margin-top: 6rem; /* Evita que o título fique embaixo da navbar fixa */
    }

    .animate-fadeIn {
        animation: fadeIn 1s cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    
    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>
{% endblock %}